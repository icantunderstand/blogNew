<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
  <body id="home">
    <script> 
      function processResourcePerformance() {
        perf.getEntriesByType('resource').forEach(entry => {
            // 这里可以做过滤逻辑 过滤第三方资源控制上报

            // 判断是资源加载 用于统计资源加载情况  进行上报
            
        });
      }
      window.addEventListener('error', (event) => {
        // 判断是资源加载异常 
        // 进行上报
      }, true)
      // 上报当前资源加载数据
      processResourcePerformance(performance);
      // 创建一个PerformanceObserver并指定处理函数processResourcePerformance
      const observer = new PerformanceObserver(r => processResourcePerformance(r));
      // PerformanceObserver指定监听resource 资源
      observer.observe({ entryTypes: ['resource'] });
    </script>
</html>