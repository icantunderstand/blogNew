---
title: 跨端技术整理
date: '2024-06-11'
tags: ['crossPlatform']
---

## react native架构

### react native旧架构的问题

原有的架构下js侧和native侧通过Bridge(桥)来实现通信。桥有一些固有的限制:

- 异步
- 单线程 js是单线程的,在js侧的计算也是在单线程中进行
- 带来了额外的开销 需要进行数据序列化

### react native新架构

- JavaScript层引入JSI(JavaScript Interface),JSI作为JSC上一层的抽象可以实现引擎的替换,JavaScript拥有了持有C++对象引用的能力,从而实现直接调用Native代码
- Turbo Modules 新的模块系统 - 通过JSI通信/可异步加载/类型
- Fabric 新的渲染器

## react native交互的线程

- UI Thread: Android/iOS(或其它平台)应用中的主线程
- Shadow Thread:进行布局计算和构造 UI 界面的线程
- JS Thread:React 等 JavaScript 代码都在这个线程执行
- Native Modules 线程

## lynx

## 编译方案

## 参考

[React Native架构演进](http://www.ayqy.net/blog/react-native-new-architecture/)
[为何要设计新架构](https://reactnative.cn/docs/the-new-architecture/why)
